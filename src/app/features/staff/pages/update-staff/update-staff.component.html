<div class="staff-edit-page w-full bg-gray-50 min-h-screen">
  <!-- Cabecera de la página -->
  <div class="bg-white py-6 px-8 border-b border-gray-200 shadow-sm">
    <h1 class="text-2xl font-semibold text-gray-800">Gestión de Staff </h1>
    <p class="text-gray-500 mt-1">Actualización de información del staff</p>
  </div>

  <!-- Contenedor principal con padding -->
  <div class="px-8 py-8">
    <form (ngSubmit)="onUpdateStaff()" #staffForm="ngForm" class="w-full">
      <!-- Grid system avanzado - 12 columnas -->
      <div class="grid grid-cols-12 gap-6">
        <!-- Usuario - 6 columnas -->
        <div class="col-span-12 sm:col-span-6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="username">Usuario</nz-form-label>
            <nz-form-control nzErrorTip="Por favor ingrese un nombre de usuario">
              <nz-input-group nzPrefixIcon="user">
                <input type="text" nz-input [(ngModel)]="username" name="username" placeholder="Nombre de usuario"
                  required class="w-full" />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </div>

        <!-- Correo - 6 columnas -->
        <div class="col-span-12 sm:col-span-6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="email">Correo</nz-form-label>
            <nz-form-control nzErrorTip="Por favor ingrese un correo válido">
              <nz-input-group nzPrefixIcon="mail">
                <input type="email" nz-input [(ngModel)]="email" name="email" placeholder="Correo electrónico" required
                  class="w-full" />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </div>



        <!-- Teléfono - 6 columnas -->
        <div class="col-span-12 sm:col-span-6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="phone">Teléfono</nz-form-label>
            <nz-form-control nzErrorTip="Por favor ingrese un número de teléfono">
              <nz-input-group nzPrefixIcon="phone">
                <input type="text" nz-input [(ngModel)]="phone" name="phone" placeholder="Número de teléfono" required
                  class="w-full" />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </div>

        <!-- Tipo de Documento - 6 columnas -->
        <div class="col-span-12 sm:col-span-6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="type_documento">Tipo de Documento</nz-form-label>
            <nz-form-control nzErrorTip="Por favor seleccione un tipo de documento">
              <nz-select [(ngModel)]="type_documento" name="type_documento" nzPlaceHolder="Seleccione un tipo"
                nzAllowClear class="w-full" required>
                @for (type of documentTypes; track type.value) {
                <nz-option [nzValue]="type.value" [nzLabel]="type.label"></nz-option>
                }
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>

        <!-- Número de Documento - 6 columnas -->
        <div class="col-span-12 sm:col-span-6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="n_documento">Número de Documento</nz-form-label>
            <nz-form-control nzErrorTip="Por favor ingrese su número de documento">
              <nz-input-group nzPrefixIcon="idcard">
                <input type="text" nz-input [(ngModel)]="n_documento" name="n_documento"
                  placeholder="Número de documento" required class="w-full" />
              </nz-input-group>
            </nz-form-control>
          </nz-form-item>
        </div>

        <!-- Fecha de Nacimiento - 6 columnas -->
        <div class="col-span-12 sm:col-span-6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="birthday">Fecha de Nacimiento</nz-form-label>
            <nz-form-control nzErrorTip="Por favor seleccione su fecha de nacimiento">
              <nz-date-picker [(ngModel)]="birthday" name="birthday" nzFormat="yyyy-MM-dd" class="w-full"
                required></nz-date-picker>
            </nz-form-control>
          </nz-form-item>
        </div>

        <!-- Rol - 6 columnas -->
        <div class="col-span-12 sm:col-span-6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="roleId">Rol</nz-form-label>
            <nz-form-control nzErrorTip="Por favor seleccione un rol">
              <nz-select [(ngModel)]="roleId" name="roleId" nzPlaceHolder="Seleccione un rol" nzAllowClear
                class="w-full" required>
                @for (role of roles(); track role.id) {
                <nz-option [nzValue]="role.id.toString()" [nzLabel]="role.name"></nz-option>
                }
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>

        <!-- Imagen de Perfil - 12 columnas -->
        <div class="col-span-12">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="avatar">Imagen de Perfil</nz-form-label>
            <nz-form-control nzErrorTip="Por favor seleccione una imagen">
              <div class="flex flex-col sm:flex-row items-center gap-4">
                <!-- Previsualización de imagen -->
                <div class="relative w-24 h-24 rounded-full overflow-hidden border-2 border-gray-200">
                  <img [src]="imagen_previsualiza" class="w-full h-full object-cover" alt="Avatar Preview" />
                  <div *ngIf="!imagen_previsualiza"
                    class="absolute inset-0 bg-gray-100 bg-opacity-50 flex items-center justify-center">
                    <i nz-icon nzType="user" nzTheme="outline" class="text-2xl text-gray-400"></i>
                  </div>
                </div>

                <!-- Botón de carga -->
                <button type="button" nz-button nzType="default" (click)="fileInput.click()" class="flex items-center">
                  <i nz-icon nzType="upload" class="mr-2"></i>
                  <span>Subir imagen</span>
                </button>
                <input #fileInput type="file" accept="image/*" style="display: none" (change)="processFile($event)" />
              </div>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <!-- Botones de acción -->
      <div class="flex justify-end mt-8 gap-4">
        <button (click)="redirectToListStaff()" nz-button nzType="default" type="button" class="flex items-center">
          <i nz-icon nzType="close-circle" class="mr-2"></i>
          <span>Cancelar</span>
        </button>
        <button nz-button nzType="primary" type="submit" [disabled]="!staffForm.form.valid" class="flex items-center">
          <i nz-icon nzType="save" class="mr-2"></i>
          <span>Guardar Cambios</span>
        </button>
      </div>
    </form>
  </div>
</div>